<!DOCTYPE html>
<html>
<head>
  <title>Water in Vermont</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	
  <style>
    #map { height: 400px; width: 400px; }
    html, body { height: 100%; margin: 0; padding: 0; }
    #buttons { padding: 10px; background: #f4d1c4; }
  </style>

<!-- this is all the sources on github for the geojson files-->
<!-- <script src= "303(d)_lake_pond.geojson"> </script> -->
<script src="303(d)_watershed.geojson"></script>
<script src="groundwater.geojson"></script>

<!-- this is for all the map 1 layers-->
<script>
 $(document).ready(function() {

	function watershedstyle(feature) {
	return{
		fillColor: "green",
		color: "black",
		weight: '1',
	 	fillOpacity: 0.5
	};
	};
	// function waterbodiesstyle(feature) {
	// return{
	// 	fillColor: "red",
	// 	color: "black",
	// 	weight: '1',
	//  	fillOpacity: 0.5
	// };
	// 			};
		function groundwaterstyle(feature) {
	return{
		fillColor: "yellow",
		color: "black",
		weight: '1',
	 	fillOpacity: 0.5
	};
				};

	var watershedlayer;
   	var watershedvisible = true;
	 
   var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
					{maxZoom: 19,
     					 attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.osm.org">HOT OSM</a>'
   					});

   var USGS = L.tileLayer('https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}', 
                                       {maxZoom: 20,
	                                attribution: 'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'
                                       });
  var Stamen_TonerLite = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}',
				       {attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
						subdomains: 'abcd',
						minZoom: 0,
						maxZoom: 20,
						ext: 'png'
				       });


      var map = L.map('map',
	{
        center: [44.5588, -72.5778],
        zoom: 8,
      	layers: [OpenStreetMap_HOT]
        });
	
	var baseMaps = {"OSM" : OpenStreetMap_HOT, "USGS" : USGS, "Monochrome" : Stamen_TonerLite};
    	L.control.layers(baseMaps).addTo(map);

	 $.when.(baseMaps).done(function(){
	
	  L.geoJson(watershed_geojson, 
		{style: watershedstyle
		}).addTo(map);

	  L.geoJson(groundwater_geojson, 
		{style: groundwaterstyle
      		}).addTo(map);

	 //  L.geoJson(waterbodies_geojson, 
		//     // need to make a var for this
		// {style: waterbodiesstyle
  //     		}).addTo(map);
		

	$("#togglewatershed").click( function() {
	if (watershedvisible) {
	watershedvisible = false;
	watershedlayer.removeFrom(map);
	} else {
	watershedvisible = true;
	watershedlayer.addTo(map);
	}
	
	}) 
	 });
</script>
	<!-- This is for the second map-->
<script>
	function waterclassstyle(feature) {
	return{
		fillColor: "black",
		color: "black",
		weight: '1',
	 	fillOpacity: 1
	};
				};
	
  	var waterclasslayer;
   	var waterclassvisible = true;
	
	var OpenStreetMap_HOT2 = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
					{maxZoom: 19,
     					 attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.osm.org">HOT OSM</a>'
   					});
	var USGS2 = L.tileLayer('https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}', 
                                       {maxZoom: 20,
	                                attribution: 'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'
                                       });
	var Stamen_TonerLite2 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}',
				       {attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
						subdomains: 'abcd',
						minZoom: 0,
						maxZoom: 20,
						ext: 'png'
				       });
	
	var map2 = L.map2('map2',
	{
	center: [44.5588, -72.5778],
	zoom: 8,
	layers: [OpenStreetMap_HOT2]
		
});	
	
	var baseMaps2 = {"OSM" : OpenStreetMap_HOT2, "USGS" : USGS2, "Monochrome" : Stamen_TonerLite2};
    	L.control.layers(baseMaps2).addTo(map2);
	
	var response= $.ajax({
		url: "VT_Water_Classifications.geojson",
		dataType: "json",
		success: console.log("water classificiation data loaded!"),
		error: function(xhr) {
			alert(xhr.statusText);
				     }
			     });
	$.when(response).done(function() {
	
		waterclasslayer =  L.geoJson(response.responseJSON,
      		{ style: waterclassstyle,
        	onEachFeature: function(feature, layer) {
		layer.bindPopup("<b>Water Classification Name: " + feature.properties.Name + "</b><br>"
                      +"Status: " + feature.properties.Description);
               }
		}
		).addTo(map2);
	});

</script>
</head>
  
<body>
<!-- this is for the paragraphs and written content-->
	<h1>Water in Vermont</h1>
	<h3>By: Hsu Hay Thi Htwe</h3>
	<h4>Geog.50.02 Final Project</h4>
<center>
	<p>
	Water is an important resource that we use in everyday life.
	We as human beings use water in many different ways ranging from drinking it,
	to cleaning ourselves, to farming purposes to even leisure activities such as 
	swimming and many more! Without water, we wouldn’t be on this world. 	
	</p>
	<p>
	Luckily, our Earth’s surface is covered by around 71% in water. 
	But 96.5% of the water is salt water in the ocean. Only 2.5% of the water is freshwater. 
	But not all of this freshwater is accessible as most of it is in the form of glaciers, icecaps and groundwater aquifers. 
	So when adding all of that up, only 0.3% of the total global water is readily accessible and usable freshwater.  	
	</p>
	<p>
	Because accessible freshwater is so scarce, it is important to use it more sustainably and not be wasteful with it.  
	Water has become increasingly scarce due to overuse, pollution and climate change. 
	For this website, we will look more into water in Vermont.
	</p>
	<h3>Why should we care about water in Vermont</h3>
	<p>
	The main reason for using Vermont as a case study is because Vermont is one of the only states with great data about water. 
	The Vermont government really cares about maintaining the quality of local water systems for recreational use.
	Also all the water in Vermont is classified as “good” or higher (more explanation on this later). 
	</p>
	<p>
	Vermont is known for its beautiful nature in terms of the forests as well as its lakes, ponds, rivers and watersheds. 
	These water systems in Vermont are important in the well-being of the state as it contributes to the ecosystem, agriculture, the people residing there as well as tourism. 
	However, just like the rest of the world, Vermont is facing water related issues like water quality. 
	</p>
	<p>
	<em>Here we will look at a map of the different freshwater bodies in Vermont such as groundwater, stressed and unstressed lakes and ponds, and watersheds.</em>	
	</p>
	  <div id="map"></div>
  <div id="button">
    <button id="toggleshedclass"> Toggle the Water Shed layer </button>
  </div>
	
<!-- <div id="button">
<button id="togglewaterclass"> Toggle the Water Classification layer </button>
</div>
	
<div id="button">
<button id="togglewaterclass"> Toggle the Water Classification layer </button>
</div> -->

	 <div id="map2"></div>
 </center>
<h4>These are all the geojson sources used.</h4>
	<ul>
	<li>https://catalog.data.gov/dataset/vt-water-classifications-6d229</li>
	<li>https://catalog.data.gov/dataset/303d-lake-pond-90059</li>
	<li>https://catalog.data.gov/dataset/ground-water-spa-95c6f</li>
	<li>https://catalog.data.gov/dataset/303d-watershed-b9fd0</li>	
	<li>https://www.tripadvisor.com/Attractions-g28966-Activities-c57-t162-Vermont.html</li>
	<li>https://vtskiandride.com/8-epic-vermont-swimming-holes/</li>
	<li>https://vtdigger.org/2020/07/08/a-first-in-the-state-nek-pond-to-be-removed-from-impaired-waters-list/</li>
	<li>https://www.usgs.gov/special-topics/water-science-school/science/how-much-water-there-earth#science</li>
	<li>https://geodata.vermont.gov/datasets/76c464cc78f244b8994fe2394a9dac3d_203/explore?location=44.753481%2C-72.890163%2C6.82</li>
	<li>https://dec.vermont.gov/watershed/lakes-ponds/reclassification/li>	
	</ul>

  
</body>
</html>
